{% extends "base.html" %}

{% block seo %}
  {{ super() }}

  {% if config.title %}
    {% set title = config.title %}
  {% else %}
    {% set title = "ETEPLUS" %}
  {% endif %}

  {{ macros_head::seo(title=title, description=config.description) }}
{% endblock %}

{% block content %}
  <h1 class="w-full text-3xl md:text-5xl text-center py-16">Hello, I'm ETEPLUS. ðŸ‘‹</h1>
  <div class="relative flex flex-col">
    <h2 class="text-2xl mb-8 text-left">Recent Posts</h2>
    {% set section = get_section(path="posts/_index.md") %}
    {% for post in section.pages | slice(end=3) %}
      <article class="relative max-w-screen-md flex flex-col md:flex-row mb-8">
        <div class="relative w-full flex flex-col text-base">
          {# title #}
          <a class="text-lg text-left text-theme-primary hover:text-theme-primary-offset mb-2" href="{{ post.permalink }}" alt="{{ post.title }}" rel="bookmark">
            <h2>{{ post.title }}</h2>
          </a>
          {# meta #}
          <div class="flex justify-start items-center flex-wrap mb-2 text-theme-text-offset">
            <span>{{ post.date | date(format='%b %d, %Y') }}</span>
            {% if post.reading_time %}
              <span class="mx-2 opacity-50">|</span>
              <span>{{ post.reading_time }} minute read</span>
            {% endif %}
            {% if post.taxonomies.tags %}
              <span class="mx-2 opacity-50">|</span>
              <div class="flex items-center">
                {% for tag in post.taxonomies.tags %}
                  <a
                    href="{{ get_taxonomy_url(kind='tags', name=tag) }}"
                    class="lowercase underline hover:text-theme-primary-offset"
                    alt="{{ tag }}"
                  >{{ tag }}</a>
                  {% if not loop.last %}
                    <span class="mx-2">â€¢</span>
                  {% endif %}
                {% endfor %}
              </div>
            {% endif %}
          </div>
          {# summary #}
          {% if post.summary %}
            <div class="text-theme-text break-words">{{ post.summary | safe }}</div>
          {% elif post.description %}
            <p class="text-theme-text break-words">{{ post.description | safe }}</p>
          {% endif %}
        </div>
      </article>
    {% endfor %}
    <div class="w-full flex">
      <a class="text-base py-4 text-theme-primary hover:text-theme-primary-offset no-underline" href="{{ get_url(path="@/posts/_index.md") }}">Read all posts&nbsp;Â»</a>
    </div>
  </div>
{% endblock content %}